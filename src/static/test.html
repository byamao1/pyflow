<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      const ARR_SIZE = 6666666;
      const hugeArr = new Array(ARR_SIZE).fill(1);
      // 方法一，普通for循环
      function method1() {
        var arrCopy = [];
        console.time('method1');
        for (let i = 0; i < hugeArr.length; i++) {
          arrCopy.push(hugeArr[i]);
        }
        console.timeEnd('method1');
      }
      // 方法二，缓存长度
      function method2() {
        var arrCopy = [];
        console.time('method2');
        for (let i = 0, len = hugeArr.length; i < len; i++) {
          arrCopy.push(hugeArr[i]);
        }
        console.timeEnd('method2');
      }
      // 方法三，取值和判断合并
      function method3() {
        var arrCopy = [];
        console.time('method3');
        for (let i = 0, item; (item = hugeArr[i]); i++) {
          arrCopy.push(item);
        }
        console.timeEnd('method3');
      }
      // 方法四，i--与判断合并，倒序迭代
      function method4() {
        var arrCopy = [];
        console.time('method4');
        for (let i = hugeArr.length; i--; ) {
          arrCopy.push(hugeArr[i]);
        }
        console.timeEnd('method4');
      }
      // 方法五，while
      function method5() {
        var arrCopy = [];
        console.time('method5');
        let i = 0;
        while (i < hugeArr.length) {
          arrCopy.push(hugeArr[i++]);
        }
        console.timeEnd('method5');
      }
      // 方法六,forEach
      function method6() {
        var arrCopy = [];
        console.time('method6');
        hugeArr.forEach(item => {
          arrCopy.push(item);
        });
        console.timeEnd('method6');
      }
      // 方法七,map
      function method7() {
        var arrCopy = [];
        console.time('method7');
        hugeArr.map(item => {
          arrCopy.push(item);
        });
        console.timeEnd('method7');
      }
      // 方法八,for of
      function method8() {
        var arrCopy = [];
        console.time('method8');
        for (let item of hugeArr) {
          arrCopy.push(item);
        }
        console.timeEnd('method8');
      }
      method1();
      method2();
      method3();
      method4();
      method5();
      method6();
      method7();
      method8();
    </script>
  </body>
</html>
